<!DOCTYPE html>
<!-- Aggiungo Thymeleaf -->
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AdminGiocoPage</title>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
<style>
* {
	margin: 0;
	padding: 0;
}

h2 {
	color: #fff;
}

h3 {
	color: #fd7e14;
}

p {
	color: #fd7e14;
	font-size: 5000;
}

h1 {
	color: #fff;
}

body {
	font-family: sans-serif;
	background-image: linear-gradient(to right, #3b1b72, #3b1b72);
}

#nav-bar {
	position: sticky;
	top: 0;
	z-index: 10;
}

.navbar {
	background-image: linear-gradient(to right, #6f42c1, #fd7e14);
	padding: 0 !important;
}

.navbar.brand img {
	height: auto;
	padding-left: auto;
}

.navbar-nav li {
	padding: 0 10px;
}

.navbar-nav li a {
	color: #fff !important;
	font-weight: 600;
}

.d-flex input button {
	color: #fd7e14;
}

html {
	font-family: sans-serif;
	background-color: #3b1b72;
}

.btn-primary {
	color: #3b1b72;
	background-color: #ff8040;
	border-color: #ff8000;
}

label {
	color: #fd7e14;
}
.pulsante {
	margin-left: 1%;
}
</style>
</head>

<body>
	<!-- Tramite th:switch eseguo un controllo sulla lista giochi passata dal modello (vedi GiocoAdminController)  -->
	<div th:switch="${giochi}">
		<!-- Se la mia lista è nulla mostro questo caso
	 al momento ritorna null al primo reload della pagina
	 quindi mostro un link per il reload nell'href, dandogli il @GetMapping di questa pagina
	 -->
		<h1 th:case="null" class = "display-4 text-center">
			Await to be inserted, please <a href="/giochi/listGioco">Reload</a>
		</h1>
		<!-- Se la mia lista non è nulla entro in questo caso -->
		<div th:case="*">
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
				<div class="container-fluid">
					<a href="/" class="navbar-brand"><img
						th:src="@{/images/NERD.png}" width="64" height="64" /> </a>
					<button type="button" class="navbar-toggler"
						data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarCollapse">
						<div class="navbar-nav">
							<a href="/" class="nav-item nav-link active">Home</a> <a
								href="/giochi/listGioco" class="nav-item nav-link active">Games</a>
							<a href="/generi/listGenere" class="nav-item nav-link active">Genres</a>
							<a href="/piattaforme/listPiattaforma"
								class="nav-item nav-link active">Platforms</a> <a
								href="/sviluppatori/listSviluppatore"
								class="nav-item nav-link active">Developers</a> <a
								href="/editor/listEditor" class="nav-item nav-link active">Editors</a>
							<a href="/utenti/listUtenti" class="nav-item nav-link active">Users</a>
							<a href="#" class="nav-item nav-link">Contacts</a>
						</div>
						<div class="navbar-nav ms-auto">
							<a href="/logout" class="nav-item nav-link"> <svg
									xmlns="http://www.w3.org/2000/svg" width="30" height="30"
									fill=#3b1b72 class="bi bi-power" viewBox="0 0 16 16">
                              <path d="M7.5 1v7h1V1h-1z" />
                              <path
										d="M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z" />
                            </svg> Logout

							</a>
						</div>
					</div>
				</div>
			</nav>


			<h2 class = "display-4 text-center">Games</h2>

			<div class="m-4">
				<div class="row row-cols-md-5 g-4">
					<div class="col" th:each="gioco : ${giochi}">
						<div class="card">
							<div class="card-body bg-dark">
								<h3 class="card-title bg-dark"  th:text="${gioco.titolo}"></h3>
								
								<ul class="list-group bg-dark list-group-flush">
									<li style=color:#fd7e14 class="list-group-item bg-dark">Release Date: <a class="card-text" th:text="${gioco.dataUscita}"></a></li>
									<li style=color:#fd7e14 class="list-group-item bg-dark">Series: <a class="card-text" th:text="${gioco.serie}"></a></li>
									<li style=color:#fd7e14 class="list-group-item bg-dark">PEGI: <a class="card-text" th:text="${gioco.pegi}"></a></li>
									<li style=color:#fd7e14 class="list-group-item bg-dark">Platform: <a class="card-text"
										th:text="${gioco.piattaforma.nomePiattaforma}"></a></li>
									<li style=color:#fd7e14 class="list-group-item bg-dark">Genre: <a class="card-text"
										th:text="${gioco.genere.nomeGenere}"></a></li>
									<li style=color:#fd7e14 class="list-group-item bg-dark">Developer: <a class="card-text"
										th:text="${gioco.sviluppatore.nomeSviluppatore}"></a></li>
									<li style=color:#fd7e14 class="list-group-item bg-dark">Editor: <a class="card-text"
										th:text="${gioco.editor.nomeEditor}"></a></li>
									<li style=color:#fd7e14 class="list-group-item bg-dark">Rating: <a class="card-text" th:text="${gioco.getAvgRating()}"></a></li>
								</ul>

								<a th:href="@{/giochi/edit/{id}(id=${gioco.IDGioco})}">Edit</a>
								<a th:href="@{/giochi/delete/{id}(id=${gioco.IDGioco})}">Delete</a>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- FINE DELLO SWITCH Questa parte la mostro sempre e comunque e linko alla pagina di aggiunta editor -->
		<div class="pulsante">
		<a href="/giochi/addGiocoPage" type="button" class="btn btn-outline-danger">
	    	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill=#fd7e14 class="bi bi-plus-square" viewBox="0 0 16 16">
	 			<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path>
	  			<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path>
			</svg>
	         Add a new game
	    </a>
    </div>
	</div>
</body>
</html>